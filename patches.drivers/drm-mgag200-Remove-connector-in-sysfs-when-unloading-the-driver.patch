From: Egbert Eich <eich@suse.de>
Date: Sat May 3 19:07:07 2014 +0200
Subject: drm/mgag200: Remove connector in sysfs when unloading the driver
Patch-Mainline: to be upstreamed
Git-commit: 4996a499f28a9d233399ac3810e213cbc34f6c41
Git-repo: 
References: bnc#876238, FATE#317582
Signed-off-by: Egbert Eich <eich@suse.com>

Signed-off-by: Egbert Eich <eich@suse.de>
---
 drivers/gpu/drm/mgag200/mgag200_mode.c |    1 +
 1 file changed, 1 insertion(+)

--- linux-3.0-SLE11-SP3.orig/drivers/gpu/drm/mgag200/mgag200_mode.c
+++ linux-3.0-SLE11-SP3/drivers/gpu/drm/mgag200/mgag200_mode.c
@@ -1590,6 +1590,7 @@ static void mga_connector_destroy(struct
 {
 	struct mga_connector *mga_connector = to_mga_connector(connector);
 	mgag200_i2c_destroy(mga_connector->i2c);
+	drm_sysfs_connector_remove(connector);
 	drm_connector_cleanup(connector);
 	kfree(connector);
 }
